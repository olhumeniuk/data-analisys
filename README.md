# data-analisys
# Аналіз даних VHI – Лабораторна робота та Streamlit додаток

Цей репозиторій містить два основних проекти, пов’язаних із аналізом даних VHI (Vegetation Health Index) для регіонів України.

## Скрипт для лабораторних робіт

Цей Скрипт містить код, який:
- Завантажує дані VHI з Інтернету (CSV-файли) для різних регіонів.
- Обробляє дані (видаляє некоректні рядки, змінює формати, видаляє зайві стовпці).
- Формує єдиний DataFrame, у якому проводиться аналіз показників VHI за регіонами:
  - Визначає мінімальне та максимальне значення VHI для кожного регіону у заданому діапазоні років.
  - Обчислює роки з екстремальною та помірною посухою на основі порогових значень.

### Основні компоненти коду:
- **fetch_vhi_data(region_code, start_year, end_year):**  
  Завантажує CSV-файл з даними VHI для заданого регіону та зберігає його у папці `data`.

- **build_dataframe(folder):**  
  Зчитує всі CSV-файли з папки `data`, проводить попередню обробку (видалення останнього рядка, некоректних значень, перетворення типів) та об’єднує дані в один DataFrame. Також виконується ремапінг кодів регіонів.

- **analyze_region_year(region_code, years):**  
  Аналізує дані для конкретного регіону за заданим діапазоном років, виводячи мінімальне та максимальне значення VHI.

- **identify_drought_years(data, perc_threshold, drought_category, start_year, end_year):**  
  Визначає роки, в яких спостерігалася посуха (екстремальна — VHI < 15, або помірна — VHI від 15 до 35) для заданого порогу кількості регіонів.

## Streamlit додаток для інтерактивного аналізу даних VHI

Цей скрипт дозволяє працювати з даними VHI у вигляді інтерактивного веб-додатку. Він реалізує наступні функції:

- **build_dataframe(folder):**  
  Зчитує та обробляє CSV-файли з папки `data`, подібно до лабораторної роботи 2, але із використанням Streamlit для виводу повідомлень про помилки та попередження.

- **Інтерактивне управління фільтрами:**  
  За допомогою бічної панелі (sidebar) користувач може вибрати:
  - Часовий ряд (VCI, TCI, VHI)
  - Область (за допомогою словника `area_names`)
  - Інтервали тижнів та років
  - Параметри сортування (за зростанням чи спаданням)

- **Вивід результатів у трьох вкладках:**
  - **Таблиця даних:** Фільтрований DataFrame із даними.
  - **Графік часових рядів:** Лінійний графік обраного показника для конкретної області.
  - **Порівняння областей:** Стовпчиковий графік, що демонструє середнє значення обраного показника для кожної області.

### Основні компоненти коду:
- Завантаження даних за допомогою функції **build_dataframe("data")**.
- Налаштування початкових значень фільтрів із використанням **st.session_state** та функції **reset_filters()**.
- Формування бічної панелі для управління фільтрами та вибору параметрів аналізу.
- Побудова трьох вкладок із виводом таблиці, графіків часових рядів та порівняння областей.

## Структура репозиторію

- **data/**  
  Папка для CSV-файлів із даними VHI. (Ця папка виключається з Git за допомогою файлу `.gitignore`).

- **lab_2_Гуменюк_Олександр_ФБ-31.ipynb**  
  Ноутбук, який містить код лабораторної роботи №2 (аналітика даних VHI).

- **lab_3_Гуменюк_Олександр_ФБ-31.py**  
  Скрипт додатку Streamlit для інтерактивного аналізу даних VHI.

- **README.md**  
  Документація до проекту (цей файл).

- **requirements.txt** (за бажанням)  
  Список необхідних пакетів (наприклад, pandas, prettytable, streamlit, matplotlib).

## Встановлення та запуск

1. **Клонування репозиторію:**

   ```bash
   git clone https://github.com/yourusername/yourrepository.git
   cd yourrepository
